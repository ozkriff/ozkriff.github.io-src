+++
title = "Сложности с crates.io и конфиги из открытого космоса"

[taxonomies]
tags = ["devlog", "zoc"]
+++

Сунулся наконец-то выложить zoc на crates.io.
А, оказывается, даже если пакеты лежат в одном репозитории, их надо выкладывать на
crates.io отдельно.

Посмотрел gfx - они тоже каждый пакет, оказывается, отдельно выкладывают :( .
Эх, совсем не хочется загаживать crates.io своими бессмысленными
пакетами, они явно никому не пригодятся.

Можно бы на модули разбить, а не пакеты, но так инкрементальная сборка
будет опять занимать минуту и сложности с привязками к OpenGL возникают.

Нафиг тогда выкладывание на crates.io, пока на glium не перейду. Мне не
так сильно этот crates.io и нужен, просто немного неприятно, что про
твой код забывают при проверке всяких поломок при обновлениях библиотек.
Ну да ничего, пару месяцев уж потерплю.

------------------------------------------------------------------------

Возился в связи с этим с Cargo.toml и Cargo.lock.
Хоспади, ну все-таки как мне не нравится этот TOML. =(

Он в некоторых случаях и правда неплохо справляется, но при работе с ним
все время чувство костылей есть. Как-то у него фокус на частности, а не
на нормальное обобщенное решение. В целом ничего формат, особенно для
простых конфигов, но вот синтаксис таблиц меня ужасает.

